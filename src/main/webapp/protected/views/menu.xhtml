<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:form id="navForm">
             
        <ui:param name="currentPage" value="#{facesContext.viewRoot.viewId}#{(empty request.queryString)?'':'?'.concat(request.queryString)}"/>

        
        <ul class="nav nav-list">
           <li class="nav-header">Bem vindo #{request.userPrincipal.name}</li>
           <li class="#{currentPage == '/protected/pages/pessoaSearch.xhtml'?'active':''}">
               <a href="#{request.contextPath}/protected/pages/pessoaSearch.xhtml">Procurar por pessoas</a>
           </li>    
           
            <li class="#{currentPage == '/protected/pages/departamentoSearch.xhtml'?'active':''}">
               <a href="#{request.contextPath}/protected/pages/departamentoSearch.xhtml">Procurar por departamentos</a>
           </li> 

           <c:if test="#{request.isUserInRole('megaAppAdmin')}">
               <li class="#{currentPage == '/protected/pages/admin/pessoaAdd.xhtml'?'active':''}">
                   <a href="#{request.contextPath}/protected/pages/admin/pessoaAdd.xhtml">Adicionar pessoa</a>
               </li>                
               
               	<li class="#{currentPage == '/protected/pages/admin/departamentoAdd.xhtml'?'active':''}">
                   <a href="#{request.contextPath}/protected/pages/admin/departamentoAdd.xhtml">Add a book</a>
               </li> 
               
               <li class="#{currentPage == '/protected/pages/admin/userList.xhtml'?'active':''}">
                   <a href="#{request.contextPath}/protected/pages/admin/userList.xhtml">Usu√°rios</a>
               </li> 
           </c:if>

           <li><h:commandLink action="#{logoutBacking.logout}">Logout</h:commandLink></li>
        </ul>      
    </h:form>
   
</html>